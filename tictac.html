<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simple Tic Tac Toe</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
      }
      body {
        font-family: sans-serif;
        text-align: center;
      }
      .container {
        width: 100vw;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .mainboard {
        border: 2px solid black;
        display: grid;
        grid-template-columns: repeat(3, 200px);
        grid-template-rows: repeat(3, 200px);
        gap: 5px;
        justify-content: center;
        align-items: center;
        margin: 20px;
      }
      .innercell {
        width: 60px;
        height: 60px;
        background-color: #eee;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        font-weight: bold;
        cursor: pointer;
      }
      .cell {
        width: 200px;
        height: 200px;
        background-color: #eee;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 6rem;
        font-weight: bold;
        cursor: pointer;
      }
      .cellboard {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        gap: 5px;
      }
      .modal {
        display: none;
        position: fixed;
        z-index: 100;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
      }

      /* The white box in the middle */
      .modal-content {
        background-color: white;
        margin: 15% auto;
        padding: 20px;
        border-radius: 10px;
        width: 60%;
        max-width: 500px;
        position: relative;
        text-align: left;
        line-height: 1.6;
      }
      .close-btn {
        position: absolute;
        right: 15px;
        top: 10px;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }
      .controls {
        position: relative;
        top: 20px;
        left: 600px;
        margin-bottom: -40px;
        gap: 10px;
      }

      .controls button {
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        background-color: #333;
        color: white;
      }

      .controls button:hover {
        background-color: #555;
      }
      footer {
        padding: 10px;
        background: white;
        border-top: 2px solid black;
        width: 100vh;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="controls">
        <button onclick="resetGame()">Restart</button>
        <button id="howToPlayBtn">How to Play</button>
      </div>
      <h2 id="status" style="margin-top: 60px; margin-bottom: -4px">
        Player X's Turn
      </h2>
      <div class="mainboard" id="mainboard">
        <div class="cell" data-index="0">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="1">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="2">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="3">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="4">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="5">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="6">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="7">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
        <div class="cell" data-index="8">
          <div class="cellboard">
            <div class="innercell" data-index="0"></div>
            <div class="innercell" data-index="1"></div>
            <div class="innercell" data-index="2"></div>
            <div class="innercell" data-index="3"></div>
            <div class="innercell" data-index="4"></div>
            <div class="innercell" data-index="5"></div>
            <div class="innercell" data-index="6"></div>
            <div class="innercell" data-index="7"></div>
            <div class="innercell" data-index="8"></div>
          </div>
        </div>
      </div>

      <div id="rulesModal" class="modal">
        <div class="modal-content">
          <span class="close-btn">x</span>
          <h2>Ultimate Tic-Tac-Toe Rules</h2>
          <ul>
            <li><strong>The Goal:</strong> Win three big squares in a row.</li>
            <li>
              <strong>Local Wins:</strong> Winning a small 3x3 board gives you
              that big square.
            </li>
            <li>
              <strong>The Twist:</strong> Your move determines which sub-board
              your opponent must play in next.
            </li>
            <li>
              <strong>Example:</strong> If you play in the top-right small box
              of any board, your opponent *must* play in the top-right big
              board.
            </li>
            <li>
              <strong>Free Moves:</strong> If you are sent to a board that is
              already won or full, you can play anywhere.
            </li>
          </ul>
        </div>
      </div>
      <footer style="border-top: 2px solid black; width: 100%">
        <p>&copy; all rights reserved/Advanced level Tic Tac Toe</p>
      </footer>
    </div>
    <script src="tictac.js"></script>
  </body>
</html>

